// Generated by CoffeeScript 1.9.3
(function() {
  var add_vue, list_vue, refresh_menu;

  refresh_menu = function() {
    return $.ajax({
      url: '/j/doc/list',
      method: 'GET',
      success: function(r) {
        return list_vue.li = r.li;
      }
    });
  };

  list_vue = new Vue({
    el: '#main-menu',
    data: {
      li: []
    },
    ready: function() {
      return refresh_menu();
    },
    methods: {
      active: function(e) {
        loader();
        $('li.treeview').each(function() {
          return $(this).removeClass('active');
        });
        return e.currentTarget.setAttribute('class', 'treeview active');
      }
    }
  });

  add_vue = new Vue({
    el: '#addition-form',
    data: {
      icon: 'book',
      name: '',
      url: ''
    },
    methods: {
      submit: function() {
        return $._ajax({
          url: '/j/doc',
          method: 'post',
          data: add_vue.$data,
          success: function() {
            refresh_menu();
            add_vue.icon = 'book';
            add_vue.name = '';
            add_vue.url = '';
            return $('.addition-modal').modal('hide');
          }
        });
      }
    }
  });

}).call(this);
